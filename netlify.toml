# Netlify configuration file
# https://docs.netlify.com/configure-builds/file-based-configuration/

[build]
  # Base directory (relative to root) where the build command should be run.
  # Should match the root of the repository if package.json is there.
  base = "/"
  # Directory (relative to base) that contains the deploy-ready
  # HTML files and assets generated by the build.
  publish = "dist"

  # Netlify-specific build command that ensures _redirects is copied to dist
  command = "npm run build:netlify"

# Redirects and rewrites rules
# https://docs.netlify.com/routing/redirects/
# Ensure all paths fallback to index.html for client-side routing (SPA)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
